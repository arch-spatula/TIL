1일1커밋 무사고: 136일차

05:59

# todo

- [x] 유데미 자료구조 & 알고리즘 최소 1강의 이상
- [x] 면접 질문
  - [x] this 가 동작하는 원리와 용법을 아는대로 설명해주세요. 평소 코드 중에서는 어떤 부분에서 가장 큰 차이가 생기나요?
  - [x] 브라우저 저장소에 대해서 차이점을 설명해주세요(local storage, session storage, cookie)
- [ ] 이력서 수정
  - [ ] intro
  - [ ] 핵심경헌
  - [x] 자기소개
- [x] 이력서 피드백

# 잘하기 위해 필요한 것은 무엇인가?

# this 가 동작하는 원리와 용법을 아는대로 설명해주세요. 평소 코드 중에서는 어떤 부분에서 가장 큰 차이가 생기나요?

`this`는 호출하는 객체에 따라 달라집니다. 자바스크립트는 프로토타입 기반 언어입니다. 모든 것이 프로토타입입니다. 모든 것이 프로타입이기 때문에 모든 함수는 사실 메서드입니다. 문법을 보면 단순히 함수를 실행한 것 같지만 전역객체의 메서드로서 실행된다는 것이 생략되어 있습니다. 그리고 이 전역 객체의 메서드로 호출 되었을 때를 주의해야 합니다.

```js
function f1() {
  return this;
}

// 브라우저
f1() === window; // true

// Node.js
f1() === global; // true
```

이 경우 생략된 전역객체의 메서드로 실행된 것입니다.

```js
function f2() {
  "use strict"; // 엄격 모드 참고
  return this;
}

f2() === undefined; // true
```

엄격 모드를 활성화하면 정상적으로 undefined를 바라보게 됩니다.

먼저 실행 컨텍스트라는 것이 있는데 함수를 호출하는 주체인 객체 따라 다르게 this를 할당하기 때문입니다. 하지만 이 this가 할당 될 객체는 call, apply, bind로 제어하는 것도 가능합니다. 이런 메서드를 활용해서 DOM 조작을 하면서 얻는 유사배열객체에 배열메서드를 활용하는 것도 가능합니다.

참고로 실행 컨텍스트란 자바스크립트 코드를 실행하기 위해 제공할 환경 정보들을 모아놓은 객체입니다. 코드를 실행하는데 자바스크립트 코드가 실행하고 있는 동안의 맥락에 실행되는 방식을 좌우한다는 말입니다. this의 경우 호출하는 주체가 어느 객체인지에 따라 맥락이 결정된다는 의미입니다.

`평소 코드 중에서는 어떤 부분에서 가장 큰 차이가 생기나요?`에 대한 답의 의미를 잘 파악하기 어렵습니다. 다른 언어처럼 정의한 위치에서 this 혹은 self가 결정된 다는 것을 질문하는 것인지 모르겠습니다.

# 브라우저 저장소에 대해서 차이점을 설명해주세요(local storage, session storage, cookie)

브라우저에서 이용할 수 있는 저장공간인 웹 스토리지가 있습니다. 웹 스토리지 객체의 특징은 쿠키보다 저장공간이 큽니다. 웹 스토리지는 origin를 참조합니다. origin이 다르면 접근할 수 없습니다.

웹 스토리지는 2가지 종류가 존재합니다. 하나는 로컬스토리지 다른 하나는 세션 스토리지입니다. 로컬 스토리지의 경우 인증과 무관한 정보를 JSON 형식으로 임시저장할 때 많이 활용합니다. 예를 들어 설문 조사를 진행하던 중 중간에 인터넷이 끊겨 입력한 자료를 잃을 수 있습니다. 이렇게 정보를 잃는 것을 방지하기 위해 로컬 스토리지에 저장시키는 전략이 있습니다.

반면 세션스토리지는 사용자의 세션과 관련된 정보를 저장합니다. 주로 사용자의 로그인 상태, 결제 진행단계 같은 정보를 저장합니다. 하지만 세션 스토리지는 세션정보를 보관하지만 브라우저가 종료되면 삭제됩니다. 이것은 보안 문제입니다. 다른 사용자가 같은 컴퓨터를 접근했을 때 세션이 남기면 안 됩니다.

쿠키는 웹 스토리지 객체가 아닙니다. 하지만 웹 스토리지는 맞습니다. HTTP header에 포함되어 서버에 자동으로 전송됩니다. 그리고 쿠키는 서버에서 생성해서 클라이언트가 저장하도록 합니다.

만약 개념적인 편의상 분류를 해야 한다면 로컬 스토리지와 세션 스토리지는 웹 스토리지 객체이지만 쿠키는 웹 스토리지 문자열이라보 볼 수 있습니다.

https://ko.javascript.info/localstorage

## 왜 쿠키는 document에서 접근해야 하고 localStorage와 sessionStorage는 Window에서 접근해야 하는가?

```js
// 쿠키를 접근하는 방법
const cookieValue = document.cookie;
console.log(cookieValue);
```

```js
// 웹 스토리지 객체를 읽는 방법
localStorage.getItem("username");
sessionStorage.getItem("token");
```

이런 차이가 발생하는 이유는 자원생성의 주체의 문제입니다. 쿠키의 경우 서버가 페이지와 함께 전달합니다. 하지만 스토리지의 경우 서버로부터 데이터를 받기는 하지만 받은 데이터를 클라이언트가 받은 자바스크립트로 저장해야 합니다.
