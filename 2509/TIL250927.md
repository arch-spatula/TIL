# 블로그 다시 만들기 89일차

1일1커밋 무사고: 1020일차

## 감사일기

1. ???

## todo

- [ ] 운동
  - [ ] 클라이밍
    - [ ] 09월 28일
  - [ ] 헬스
  - [ ] 자전거
- [ ] Do it C++ 코딩 테스트
  - [x] C++ nvim DAP에 표준입력이 가능하게 설정해보기
    - [x] codelldb로 dap 설정 시도해보기
    - [x] lazyvim 사용해보기
  - [ ] 2일차
    - 읽다가 사이드 퀘스트가 생겼습니다.
- [ ] 마이크로 튜토리얼
  - [ ] Chapter 4 - Request Lines
  - [ ] Chapter 5 - HTTP Headers
  - [ ] Chapter 6 - HTTP Body
  - [ ] Chapter 7 - HTTP Responses
  - [ ] Chapter 8 - Chunked Encoding
  - [ ] Chapter 9 - Binary Data
- [ ] 블로그 다시 만들기 전 실험
  - [ ] vite로 github pages가 정적 리소스 응답하는 방식 흉내내기
  - [ ] ToC
    - [ ] `data.json`에 h1 ~ h6에 해당하는 데이터 추가
    - [ ] DOM에 붙이기
  - [ ] 검색 팝업에서 tag 클랙해도 input 상태 보존하기

---


## codelldb로 dap 설정 시도해보기

- https://igorlfs.github.io/neovim-cpp-dbg
- Building and Debugging C++ in Neovim
- 위 내용을 발견했습니다.

> The main advantage of codelldb is that it supports stdio redirection, which makes it a breeze to debug competitive programming problems (my main use case)

- 저와 유스케이스가 동일합니다.
  - 일단은 코딩테스트를 위해 표준 입력을 디버거가 지원해줄 수 있어야 합니다. 나중에 커맨드라인 툴을 한번더 만들 때 당연히 활용할 것입니다.
- 지금 로컬에 설치 된 것은 lldb입니다. codelldb라는 별도의 툴을 다시 설치해야 합니다.
- https://github.com/mfussenegger/nvim-dap/wiki/C-C---Rust-(via--codelldb)#start-codelldb-automatically
  - vscode의 플러그인을 설치할 수 있는데 제가 알고 있는 것은 mason 설치할 때 codelldb로 설치하는 것으로 알고 있습니다.
  - https://github.com/vadimcn/vscode-lldb
  - mason 설명을 보면 위 레포를 활용했다는 것을 알고 있습니다.
  - 이렇게 되면 이미 설치했다고 간주할 수 있을 것 같습니다.
  - 이미 설치되었다면 이제는 설치 경로를 알아내야 합니다.


```
~/.local/share/nvim/mason/packages/codelldb/extension/adapter/codelldb
```

- 위가 설치 경로라고 합니다.

```sh 
~/.local/share/nvim/mason/packages/codelldb/extension/adapter/codelldb --help
```

- 위 명령을 하면 `help`를 알 수 있지만 `-V`으로 버전을 알 수 없었습니다.

## lazyvim 사용해보기

- 2024년 말에 nvim에서 사용하는 플러그인 들 중 이상이 있어서 새로운 nvim 레포를 만들었습니다.
- 2025년에 이제 저는 DAP를 위해 새로운 distro를 경험해보자 합니다.
- 결국 동일했습니다. 
- 핵심은 그 부분이 아니었습니다.

## 해결: console설정이 핵심

- `console = "integratedTerminal"`이 설정되어 있어야 하는 것이 핵심입니다.
- https://github.com/mfussenegger/nvim-dap/wiki/C-C---Rust-(via--codelldb)#start-codelldb-automatically
- 그리고 좌측 하단에 터미널 콘솔이 출력되는 위치에 insert 모드로 표준입력을 하면 되는 것이었습니다.

```lua 
return {
  "rcarriga/nvim-dap-ui",
  event = "VeryLazy",
  dependencies = { "mfussenegger/nvim-dap", "nvim-neotest/nvim-nio" },
  config = function()
    local dap, dapui = require "dap", require "dapui"
    dap.adapters.codelldb = {
      type = "executable",
      command = "~/.local/share/nvim/mason/packages/codelldb/extension/adapter", -- or if not in $PATH: "/absolute/path/to/codelldb"
    }

    dap.configurations.cpp = {
      {
        name = "Launch file",
        type = "codelldb",
        request = "launch",
        program = function()
          return vim.fn.input("Path to executable: ", vim.fn.getcwd() .. "/", "file")
        end,
        cwd = "${workspaceFolder}",
        stopOnEntry = false,
        console = "integratedTerminal",
      },
    }

    dapui.setup()
    dap.listeners.before.attach.dapui_config = function()
      dapui.open()
    end
    dap.listeners.before.launch.dapui_config = function()
      dapui.open()
    end
    dap.listeners.before.event_terminated.dapui_config = function()
      dapui.close()
    end
    dap.listeners.before.event_exited.dapui_config = function()
      dapui.close()
    end
  end,
}
```

- 이런 이유로 다행이 neovim을 다시 바닥부터 만들 필요가 없어졌습니다.
- 표준출력이 보이는 공간이라면 표준입력이 가능한 ui라고 의심을 해볼 필요가 있었습니다.
