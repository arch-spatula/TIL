# C언어로 잭블랙 블랙잭 CLI 만들기 3일차

1일1커밋 무사고: 530일차

## 감사일기

1. ???

## todo

- [ ] 블랙잭 만들기
  - [ ] 덱 구현
    - [x] 덱 셔플 로직
    - [ ] 덱 사이즈 조절 로직
  - [ ] 게임 루프
    - [x] 시작 베팅
    - [x] 베팅 유효성 검사
    - [ ] 카드 2장 오픈
    - [ ] 배당
- [ ] 플래시 카드 2.0 서비스 만들기
  - [ ] nuxt 설치
  - [ ] mongoose ORM 설치
  - [ ] vercel 배포
  - [ ] 로그인 구현
  - [ ] 어드민 전용기능(배치 삭제, 생성 제한)
  - [ ] 핀터레스트 레이아웃 구현
  - [ ] 문제 유형 태그 구현
  - [ ] 카나리 설정
- [ ] 정보처리 기사 문제집 기본서 시작하기
  - [ ] 소프트웨어 1 ~ 5장
    - [ ] 1장 소프트웨어 설계
    - [ ] 2장 소프트웨어 개발
    - [ ] 3장 데이터베이스 구축
    - [ ] 4장 프로그래밍 언어 활용
    - [ ] 5장 정보시스템 구축 관리
    - [ ] 기출문제집
  - [ ] 2024.06.18. 필기 원서 접수
  - [ ] 기본서 이후 기출 문제집 따로 구매하기

---

HTML, CSS, JS, React, React Native, Vue, Nest 통합 문서는 앱도 있으니까 WebApp Cook book이라고 명명하는 것이 더 적절할 것 같습니다.

---

## 덱 셔플 로직

2가지를 해야 합니다. 하나는 범위내 난수를 생성해야 합니다.

다음 작업은 난수로 지정한 부분의 앞은 뒤로 밀어두고 뒤에 있던 부분은 앞에 쓰기를 해야 합니다.

이런 작업을 수행하려면 덱의 사이즈만큼 임시공간을 만들고 제거해야 합니다.

발견한 상당히 특수한 지식이 있습니다.

https://ko.javascript.info/task/shuffle

예전에 위링크를 본적이 있습니다.

```js
function shuffle(array) {
  array.sort(() => Math.random() - 0.5);
}
```

C 언어도 위처럼 구현해볼 수 있지만 문제는 각각의 인덱스에 2개의 자리를 차지한다는 것이 문제입니다. Sort 순회를 직접 구현해서 2단위 인덱스로 이동하게 만들어야 합니다.

다른 방법도 소개되었습니다.

[피셔-예이츠 셔플(Fisher-Yates shuffle) 알고리즘](https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle)이 있습니다.

```js
function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    let j = Math.floor(Math.random() * (i + 1)); // 무작위 인덱스(0 이상 i 미만)

    // array[i]와 array[j]를 바꿔치기합니다.
    // 아래 답안에선 "구조 분해 할당(destructuring assignment)"이라 불리는 문법을 사용하여
    // 원하는 것을 구현하였는데,
    // 이 문법에 대한 자세한 내용은 이후 챕터에서 다룰 예정입니다.
    // 구조 분해 할당을 사용하지 않고 작성한 코드는 아래와 같습니다.
    // let t = array[i]; array[i] = array[j]; array[j] = t
    [array[i], array[j]] = [array[j], array[i]];
  }
}
```

난수호출을 여러번 한다는 점이 불편하지만 제가 원하는 결과는 카드가 섞인다는 점에서는 적절합니다. swap은 덱을 위한 유틸함수로 따로 구현하면 됩니다.

무작위 인덱스를 선택하고 마지막요소와 임의로 뽑은 요소의 자리를 교환하는 알고리즘입니다.

한번만 순회하면 된다는 점에서는 오히려 장점이 됩니다.

```c
  int swapPoint = 0;
  char tempCard[2] = {0};

  srand(time(NULL));
  // INFO: 덱 셔플
  for (i = 51; i >= 0; i--) {
    swapPoint = rand() % 52;

    // 마지막 모양  i * 2  숫자 i * 2 + 1
    // 무작위 모양 swapPoint * 2 숫자 swapPoint * 2 + 1
    tempCard[0] = deck[i * 2];
    tempCard[1] = deck[i * 2 + 1];

    deck[i * 2] = deck[swapPoint * 2];
    deck[i * 2 + 1] = deck[swapPoint * 2 + 1];

    deck[swapPoint * 2] = tempCard[0];
    deck[swapPoint * 2 + 1] = tempCard[1];
  }

  printf("%s 덱\n", deck);
```

덱셔플 로직을 복사붙여넣기 하는데 성공했습니다.

다음은 리팩토링과 다른 로직 추가가 필요합니다.

리팩토링은 쉽습니다. 어려운 것은 가독성있게 변수 선언과 함수선언하는 것입니다.

또 반복하는 상수리터럴을 맥크로 상수로 전환해야 합니다.

주의할 부분은 시작인덱스입니다. 마지막 인덱스를 정확히 골라야 합니다. 범위를 초과하면 문자열을 제거합니다.

---

github에는 blob에도 링크를 걸 수 있습니다.

https://github.com/vuejs/core/blob/44b95276f5c086e1d88fa3c686a5f39eb5bb7821/packages/runtime-core/src/componentPublicInstance.ts#L132-L165

---

unobtrusive : 나서지 않는

상당히 기본적인 영어인데 모르고 있습니다.

---

## K-마인드에 대해서

- 생존하기 위해서는 익히고 기만하기 바랍니다. 
  - 꼰대가 아닌라서 단둘이 있을 때는 꼰대처럼 보여야한다고 합니다.
  - 아닌 곳도 있지만 해당하는 휠씬더 많습니다.
    - 이미 IT 기업으로소 문화가 깨지면 개발효율과 성과를 내기 좋은 환경도 같이 깨지기 쉽습니다.
    - 회사 내에 어른들의 사정이 많으면 곤란합니다.
  - 미생의 마부장, 박과장, 좋좋소의 백차장같은 상사가 흔합니다.
  - 아래로는 좋좋소의 이예영인데 틱톡커, 비건, 환경극단주의자일 가능성이 높습니다.
- 직급이 높아질수록 버리려는 노력을 해야 합니다. 반대로 낮을 때는 꼰대처럼 보여지기만 하고 실제로는 아니어야 합니다. 그래야 처세해야 생존에 유리합니다.
  - 그래서 면접 때 선택지가 없으면 꼰대처럼 보이는 대답을 해야합니다. "저는 Java, C++ 이외 언어가 주언어라고 하면 신뢰가 안갑니다.  얼마나 실력이 없으면 다른 언어가 필요한가요" 이런 대답을 합니다.
  - 만약에 선택의 여유를 갖고 싶다면 2중적인 대답을 하겠다고 말합니다.  "공식적으로는 Java, C++만 선택지이고 그 외에 선택을 하면 개발자로서 신뢰하지 않는다고 기록해주세요. 이 대답은 어른들의 사정이 있다면 위로는 이렇게 전달해주세요. 그런거 걱정 안해도되면 POC 목적으로 만들거나 작은 내부툴은 본인이 제일 편한 언어를 사용하고 비즈니스의 중심이 되는 부분은 실력자에게 가중평균을 부여해서 대부분 인원이 사용하는 편한 언어를 선택합니다."
    - 어른들의 사정이 없다는 답변을 면접에 바로 알려주면 커리어 초기라도 걱정할 필요는 없습니다.
    - 만약에 K-마인드를 평가하는 면접관이 있다면 거기서 떨어질 것입니다.
      - 채용의 재량이 실무자에게 있고 어른들의 사정이 없다고 대답해주면 높은 확률로 걱정할 필요는 없습니다.
  - 스타트업인데도 의외로 채용에 대한 재량이 개발자가 아닌 사람에게 있는 경우가 많습니다.
    - 이런 경우 개발문화가 안 좋을 가능성이 높습니다.

