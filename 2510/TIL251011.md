# 블로그 다시 만들기 103일차

1일1커밋 무사고: 1034일차

## 감사일기

1. ???

## todo

- [ ] Do it C++ 코딩 테스트
  - [ ] 3일차
    - [x] 구간 합
    - [x] 정답 이해해보기
      - 이 내용은 책과 무관하게 따로 탐구해봐야 할 것 같습니다.
      - 물론 내용이 너무 커진다면 그럴 것입니다.
      - 하지만 옵시디언에 정리할 문서만 별도로 놔도 될 것 같습니다.
    - [ ] 구간 합 구하기 2
- [ ] 마이크로 튜토리얼
  - [ ] Chapter 4 - Request Lines
  - [ ] Chapter 5 - HTTP Headers
  - [ ] Chapter 6 - HTTP Body
  - [ ] Chapter 7 - HTTP Responses
  - [ ] Chapter 8 - Chunked Encoding
  - [ ] Chapter 9 - Binary Data
- [ ] 블로그 다시 만들기 전 실험
  - [ ] vite로 github pages가 정적 리소스 응답하는 방식 흉내내기
  - [ ] ToC
    - [ ] `data.json`에 h1 ~ h6에 해당하는 데이터 추가
    - [ ] DOM에 붙이기
  - [ ] 검색 팝업에서 tag 클랙해도 input 상태 보존하기


---

## 성능 개선을 위한 3구문은 무엇을 의미하는가?

- https://velog.io/@d2h10s/c-iossyncwithstdio%EB%9E%80
  - 처음 검색해서 알게 된 블로그 자료입니다.
- https://stackoverflow.com/questions/31162367/significance-of-ios-basesync-with-stdiofalse-cin-tienull
  - 조금 더 좋을 것이라고 생각되는 자료입니다.
  - 3구문 모두 안 다루고 2개의 구문만 다룹니다. `std::ios::sync_with_stdio(false);`, `std::cin.tie(NULL);`만 다룹니다.
  - 본질적으로 성능자체를 끌어올리는 현상은 구문의 주된 목적이 아니라 사이드이펙트라는 것입니다.
- `std::ios::sync_with_stdio(false);`
- `std::cin.tie(NULL); std::cout.tie(NULL);`
- 널널한 개발자 인프런 강의를 몇 개 구매해야 할 것 같습니다.

### `std::ios::sync_with_stdio(false);`

- `std::ios::sync_with_stdio(false);`은 표준 스트림의 동기화를 비활성화 한다고 합니다.
- 그렇다면 표준 스트림이 무엇인지 이해해야 합니다.
- https://ko.wikipedia.org/wiki/%ED%91%9C%EC%A4%80_%EC%8A%A4%ED%8A%B8%EB%A6%BC
- 표준 스트림의 동기화가 풀리고 각각의 버퍼를 사용한다고 합니다. 버퍼를 각각 사용하는 것이 왜 속도를 높이는지 잘 이해가 안 됩니다. 무슨 추가동작이 있는지 잘 모르겠습니다.

#### 표준 스트림이란 무엇인가?

- 표준 스트림(standard streams)은 특정한 프로그래밍 언어 인터페이스뿐 아니라 유닉스 및 유닉스 계열 운영 체제(어느 정도까지는 윈도우에도 해당함)에서 컴퓨터 프로그램과 그 환경(일반적으로 단말기) 사이에 미리 연결된 입출력 통로를 가리킨다.
  - 컴퓨터 프로그램은 다른 말로 프로세스라고 볼 수 있습니다.
  - 단말기는 한글로 번역되어서 그렇지 터미널이라고 생각해볼 수 있습니다. 지금 편집하는 텍스트도 단말기에서 neovim으로 편집하고 있습니다. 지금 단말기는 소프트웨어 적인 것으로 보이는데 과거는 하드웨어 중에 컴퓨터를 제어할 수 있는 입출력 장치로 보입니다.
  - https://namu.wiki/w/%EB%8B%A8%EB%A7%90%EA%B8%B0
  - 터미널이라는 입출력을 처리하는 통로를 보고 표준 스트림이라고 부릅니다.
- 원래 생각하던 것과 다른 것은 표준입력 스트림과 표준 출력 스트림만 존재할 것이라고 생각했는데 표준 오류 스트림도 존재한다는 것입니다.
  - `<stdio.h>`의 `stdin`, `stdout`, `stderr`이 해당합니다.
  - 이 3개의 스트림(입력, 출력, 오류)이 터미널에 부착됩니다.
- 여기까지는 무엇인지만 알 수 있습니다. 그것도 극히 일부만 무엇인지 알 수 있습니다.
- 터미널과 시스템 콘솔은 무슨 관계인지 아니면 반대로 이해한 것인지 더 알아볼 필요가 있습니다.
  - https://ko.wikipedia.org/wiki/%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%BD%98%EC%86%94
- 부모 프로세스로부터 입력, 출력, 오류 3개의 스트림을 상속받는다는데 이것은 또 무엇을 의미하는지 알아내야 합니다.

### `std::cin.tie(NULL); std::cout.tie(NULL);`

- 기본적으로 `cin`, `cout`은 서로 `tie` 되어 있습니다. 이 의미는 다른 스트림이 io 작업을 처리하기 전에 `flush`하는 것을 보장합니다.  
- 이렇게 되면 수동으로 `flush`를 해줘야 해서 의식할 부분이 생기는 것입니다.
- 그만큼 `flush` 자주하지 않으면서 성능이 좋아지는 것입니다.

### 참고 사항

- 일반적으로 `std::cout`, `std::cin`을 사용할 때 프로그램의 속도가 `scanf`, `printf`보다 느린다고 합니다. 이것도 더 정확하게 이유를 알아내야 합니다.
- 개행에 `\n` 대신 `endl`을 쓰게 되면 출력 속도가 훨씬 느려집니다. 그 이유는 `endl`은 줄바꿈과 동시에 `flush`를 하기 때문입니다.
  - 위는 블로그 글을 그대로 인용한 것입니다.
