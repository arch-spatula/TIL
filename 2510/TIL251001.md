# 블로그 다시 만들기 93일차

1일1커밋 무사고: 1024일차

## 감사일기

1. ???

## todo

- [ ] 운동
  - [ ] 클라이밍
    - [ ] 10월 02일 폐관수련
  - [ ] 헬스
    - [ ] 10월 03일 보조근육
  - [ ] 자전거
- [ ] Do it C++ 코딩 테스트
  - [ ] 3일차
    - [x] 평균 구하기
    - [ ] ???
- [ ] 마이크로 튜토리얼
  - [ ] Chapter 4 - Request Lines
  - [ ] Chapter 5 - HTTP Headers
  - [ ] Chapter 6 - HTTP Body
  - [ ] Chapter 7 - HTTP Responses
  - [ ] Chapter 8 - Chunked Encoding
  - [ ] Chapter 9 - Binary Data
- [ ] 블로그 다시 만들기 전 실험
  - [ ] vite로 github pages가 정적 리소스 응답하는 방식 흉내내기
  - [ ] ToC
    - [ ] `data.json`에 h1 ~ h6에 해당하는 데이터 추가
    - [ ] DOM에 붙이기
  - [ ] 검색 팝업에서 tag 클랙해도 input 상태 보존하기

---

## 평균 구하기

- https://www.acmicpc.net/problem/1546
- 이 문제는 기술적으로 어려운 것이 아니라 문과적으로 어렵습니다. 분명히 한글로 작성했는데 저에게 의도 전달이 잘 안 되었습니다. 이것은 저의 문해력이 약한 것입니다.
- 문제가 이해가 안 되엇 해설을 확인했습니다.
- 일단 이 문제가 주는 교훈은 대수 전개를 위해 공책을 따로 둔다입니다.

$$$

(A / M * 100 + B / M * 100 + C / M * 100) / 3 = (A + B + C) * 100 / M / 3

$$$

- 위처럼 교환법칙이라는 것이 아직도 머릿속에 있어야 합니다. 그리고 정리가 가능해야 합니다.

```cpp 
#include <iostream>
#include <vector>

int main() {
  int max = 0;
  int count = 0;

  std::cin >> count;
  std::vector<int> stream(count);

  // 저장과 최댓값 탐색
  for (int i = 0; i < count; i++) {
    std::cin >> stream[i];

    // 최댓값 확인 및 갱신
    if (max < stream[i]) {
      max = stream[i];
    }
  }

  double sum = 0;
  for (int i = 0; i < count; i++) {
    sum += stream[i];
  }

  std::cout << sum * 100 / max / count << std::endl;

  return 0;
}
```

## 자주 사용할 Makefile 작성하기

```Makefile
debug:
	g++ -o main main.cpp -Wall -Wextra -Werror -pedantic -O0 -g -std=c++17 -Wshadow -Wnon-virtual-dtor -Wold-style-cast -Wcast-align -Wunused -Woverloaded-virtual -Wpedantic -Wconversion -Wsign-conversion -Wmisleading-indentation

build:
	g++ -o main main.cpp -Wall -Wextra -Werror -pedantic -O2 -std=c++17 -Wshadow -Wnon-virtual-dtor -Wold-style-cast -Wcast-align -Wunused -Woverloaded-virtual -Wpedantic -Wconversion -Wsign-conversion -Wmisleading-indentation

clean:
	rm -f main

run:
	./main

reload: clean build run
```

- 기존 Makefile입니다. 컴파일러 옵션을 덜 엄격하게 해도 됩니다.

```Makefile
debug:
	g++ main.cpp -o main -O0 -g -Wall -lm -static -std=gnu++17 -DONLINE_JUDGE -DBOJ

build:
	g++ main.cpp -o main -O2 -Wall -lm -static -std=gnu++17 -DONLINE_JUDGE -DBOJ

clean:
	rm -f sum

run:
	./sum

reload: clean build run
```

- 이제는 백준에 올바른 형태의 Makefile이 된 것 같습니다.
- 다음은 책을 읽기 좋은 형태로 바꾸려고 합니다.

```Makefile
SRC = avg.cpp
OUT = avg

debug:
	g++ $(SRC) -o $(OUT) -O0 -g -Wall -lm -static -std=gnu++17 -DONLINE_JUDGE -DBOJ

build:
	g++ $(SRC) -o $(OUT) -O2 -Wall -lm -static -std=gnu++17 -DONLINE_JUDGE -DBOJ

clean:
	rm -f $(OUT)

run:
	./$(OUT)

reload: clean build run
```

- 이제는 문제 유형별로 만들어둔 cpp 파일별로 관리 하면 될 것 같습니다.
- 문제는 컴파일이 처음부터 잘 안된다는 것이 함정이었습니다.

```sh
g++ Main.cc -o Main -O2 -Wall -lm -static -std=gnu++17 -DONLINE_JUDGE -DBOJ
```

- https://help.acmicpc.net/language/info에서 알려주는 컴파일 명령입니다.

## `-static` 옵션이란 무엇인가?

- LLM으로 방법을 알아냈습니다. 이제 이 컴파일러 옵션이 무엇인지 알아내야 합니다.
- 자료 출처는 당연히 신뢰할 수 있어야 하기 때문에 g++로 컴파일 하는 옵션에 대한 공식문서를 찾아야 할 것 같습니다.
- https://gcc.gnu.org/onlinedocs/gcc/Option-Summary.html
- https://sourceware.org/binutils/docs/ld/Options.html
- 위는 확실하게 주소가 일정할 것이라고 예상이 되는 주소입니다.
- https://developer.apple.com/
  - 찾을 수 없지만 검색하고 찾아보면 나올 것이라고 알 수 있는 애플 개발자 공식문서입니다.
  - 여기서 `-static` 옵션이 왜 없는지 설명을 찾아봐야 할 것 같습니다.
- https://caiorss.github.io/C-Cpp-Notes/compiler-flags-options.html
  - 여기는 검색하면서 찾아본 유용한 블로그 같습니다.
